<div class="w-full heighContentRight" id="heighContentRightId">
    <div class="w-full mb-10">
        <fuse-card class="flex flex-col w-full p-4">
            <ng-container *ngIf="!showVue">
                <div class="flex flex-col flex-auto bg-card overflow-hidden">
                    <div class="flex justify-between mb-1.5">
                        <div class="mr-4 text-lg font-medium tracking-tight leading-6 truncate c_label">Liste des demandes de
                            credits
                        </div>
                        <div class="flex items-center mt-8 mb-4 lg:m-0 lg:ml-auto floatRight">
                            <button *ngIf="tableCredit.length !== 0" class="c_btnAccount" matTooltip="Ajouter une demande de Crédit"
                                    (click)="ajoutCredit()" mat-icon-button>
                                <mat-icon class="text-black-500 icon-size-5 cursor-pointer"
                                          [svgIcon]="'heroicons_solid:plus-circle'">
                                </mat-icon>
                            </button>
                        </div>
                    </div>
                    <hr>
                    <div class="overflow-x-auto" *ngIf="tableCredit.length !== 0">
                        <table aria-label="liste des crédits d'un client" class="w-full bg-transparent" mat-table
                               matSort [dataSource]="creditDataSource"
                               [trackBy]="trackByFn" #compteTable>
                            <ng-container matColumnDef="numero">
                                <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                    Nº
                                </th>
                                <td mat-cell *matCellDef="let credit">
                                    <span class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                        {{ credit?.numero }}
                                    </span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="typeCredit">
                                <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                    Type Crédit
                                </th>
                                <td mat-cell *matCellDef="let credit">
                                    <span class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                        {{ credit?.typeCredit?.libelle }}
                                    </span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="montant">
                                <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                    Montant
                                </th>
                                <td mat-cell *matCellDef="let credit">
                                    <span class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                        {{ credit?.montant | number : '1.0-0':'fr' }}
                                    </span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="taux">
                                <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                    Taux
                                </th>
                                <td mat-cell *matCellDef="let credit">
                                    <span class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                        {{ credit?.taux }} %
                                    </span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="montantAccorde">
                                <th mat-header-cell mat-sort-header *matHeaderCellDef class="thEnte" style="width: max-content!important;">
                                    Mtnt Accorde
                                </th>
                                <td mat-cell *matCellDef="let credit">
                                    <span class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                        {{ credit?.montantAccorde | number : '1.0-0':'fr' }}
                                    </span>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="createdAt">
                                <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                    Date Création
                                </th>
                                <td mat-cell *matCellDef="let credit">
                                    <span class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                        {{ credit?.dateCreated | date : 'dd/MM/yyyy' }}
                                    </span>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="statut">
                                <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                    Statut
                                </th>
                                <td mat-cell *matCellDef="let credit">
                                    <span class="custom_badge_orange"
                                          *ngIf="credit?.statut === constantes.STATUS.FINANCE">{{ credit?.statut }}</span>
                                    <span class="custom_badge_red"
                                          *ngIf="credit?.statut === constantes.STATUS.ANNULE">{{ credit?.statut }}</span>
                                    <span class="custom_badge_red"
                                          *ngIf="credit?.statut === constantes.STATUS.REJETE">{{ credit?.statut }}</span>
                                    <span class="custom_badge_blue"
                                          *ngIf="credit?.statut === constantes.STATUS.SAISI">{{ credit?.statut }}</span>
                                    <span class="custom_badge_success2"
                                          *ngIf="credit?.statut === constantes.STATUS.VALIDE">{{ credit?.statut }}</span>
                                    <span class="custom_badge_grey"
                                          *ngIf="credit?.statut === constantes.STATUS.CLOTURE">{{ credit?.statut }}</span>
                                    <span class="custom_badge_brown"
                                          *ngIf="credit?.statut === constantes.STATUS.ENSOUFFRANCE">{{ credit?.statut }}</span>
                                    <span class="custom_badge_success"
                                          *ngIf="credit?.statut === constantes.STATUS.ACCEPTE">{{ credit?.statut }}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="action">
                                <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                    Action
                                </th>
                                <td mat-cell *matCellDef="let credit">
                                    <p class="pr-6 whitespace-nowrap">
                                        <button matTooltip="Details" mat-icon-button (click)="detailsCredit(credit)">
                                            <mat-icon class=" text-blue-500 icon-size-4"
                                                      [svgIcon]="'heroicons_outline:eye'">
                                            </mat-icon>
                                        </button>
                                        <button matTooltip="Valider la demande" mat-icon-button (click)="validerDemandeCredit(credit)" *ngIf="credit.statut==='SAISI'">
                                            <mat-icon class=" text-green-700 icon-size-4"
                                                      [svgIcon]="'heroicons_outline:check-circle'">
                                            </mat-icon>
                                        </button>
                                        <button matTooltip="Valider la demande" mat-icon-button (click)="montantValiderComite(credit)" *ngIf="credit.statut==='VALIDE'">
                                            <mat-icon class=" text-green-700 icon-size-4"
                                                      [svgIcon]="'heroicons_outline:check-circle'">
                                            </mat-icon>
                                        </button>
                                        <button matTooltip="Rejeter la demande" mat-icon-button (click)="rejeterDemandes(credit)" *ngIf="credit.statut==='SAISI'">
                                            <mat-icon class=" text-red-700 icon-size-4"
                                                      [svgIcon]="'mat_outline:cancel'">
                                            </mat-icon>
                                        </button>
                                    </p>
                                </td>
                            </ng-container>
                            <tr mat-header-row *matHeaderRowDef="creditColumns"></tr>
                            <tr class="order-row h-16" mat-row *matRowDef="let row; columns: creditColumns;"></tr>
                        </table>
                    </div>

                        <div *ngIf="isLoading" class="custom-loader"></div>

                    <div *ngIf="!isLoading && tableCredit.length === 0" class="c_credit">
                        <button class="c_btnAccount_attribut c_btnAccountF" matTooltip="Ajouter demande de Crédit" (click)="ajoutCredit()" mat-icon-button>
                            <mat-icon class="c_icons c_cursor icon-size-5" [svgIcon]="'heroicons_solid:plus-circle'"></mat-icon>
                        </button>
                        <h1 class="c_label">Ajouter demande de Crédit</h1>
                    </div>
                </div>
            </ng-container>

            <ng-container *ngIf="showVue">
                <div>
                    <div class="flex justify-between c_mbuttom">
                                                <span class="inline-flex items-center cursor-pointer mb-1"
                                                      (click)="showVue = !showVue">
                                                    <mat-icon class="icon-size-5 text-current"
                                                              [svgIcon]="'heroicons_solid:arrow-sm-left'"></mat-icon>
                                                    <span class="ml-1.5 font-medium leading-5">Retour</span>
                                                </span>

                        <div class="flex items-center mt-8 mb-4 lg:m-0 lg:ml-auto floatRight">
                            <div *ngIf="isLoading" class="mr-2">
                                <mat-progress-spinner class="circle-loader" color="#000000" [mode]="'indeterminate'"
                                                      [strokeWidth]="4" [value]="2" [diameter]="25">
                                </mat-progress-spinner>
                            </div>
<!--                            <button *ngIf="currentCredit?.statut === constantes.STATUS.VALIDE"-->
<!--                                    (click)="financerCredit()"-->
<!--                                    class="c_btnAccount mr-2" matTooltip="Financer le crédit" mat-icon-button>-->
<!--                                <mat-icon class=" text-green-500 icon-size-5" [svgIcon]="'payments'">-->
<!--                                </mat-icon>-->
<!--                            </button>-->
                            <ng-container *ngIf="currentCredit?.statut === constantes.STATUS.SAISI"></ng-container>

<!--                            <button *ngIf="currentCredit?.statut === constantes.STATUS.SAISI" class="c_btnAccount mr-2"-->
<!--                                    matTooltip="Valider la demande crédit" (click)="changeStatus(constantes.STATUS.VALIDE)"-->
<!--                                    mat-icon-button>-->
<!--                                <mat-icon class=" text-green-500 icon-size-5" [svgIcon]="'done_all'">-->
<!--                                </mat-icon>-->
<!--                            </button>-->
<!--                            <button-->
<!--                                *ngIf="(currentCredit?.statut !== constantes.STATUS.FINANCE) && (currentCredit?.statut !== constantes.STATUS.VALIDE) && (currentCredit?.statut !== constantes.STATUS.REJETE) && (currentCredit?.statut !== constantes.STATUS.CLOTURE)"-->
<!--                                class="c_btnAccount" matTooltip="Rejeter le crédit"-->
<!--                                (click)="changeStatus(constantes.STATUS.REJETE,modalTemplate)" mat-icon-button>-->
<!--                                <mat-icon class=" text-red-500 icon-size-5" [svgIcon]="'heroicons_outline:x-circle'">-->
<!--                                </mat-icon>-->
<!--                            </button>-->
                            &nbsp;
<!--                            <button *ngIf="currentCredit?.statut === constantes.STATUS.FINANCE" class="c_btnAccount ml-2"-->
<!--                                    matTooltip="Remboursement anticipe" (click)="remboursement()" mat-icon-button>-->
<!--                                <mat-icon class=" text-green-500 icon-size-5"-->
<!--                                          [svgIcon]="'heroicons_outline:currency-dollar'">-->
<!--                                </mat-icon>-->
<!--                            </button>-->
                            <button
                                *ngIf="currentCredit?.statut === constantes.STATUS.FINANCE"
                                class="c_btnAccount ml-2" matTooltip="Basculement en souffrance"
                                (click)="basculerEnSouffrance('bascule',modalTemplateBascule)" mat-icon-button>
                                <mat-icon class=" text-red-500 icon-size-5" svgIcon="heroicons_outline:receipt-refund"></mat-icon>
                            </button>
                        </div>
                    </div>
                    <hr>
                    <mat-tab-group dynamicHeight [(selectedIndex)]="currentTab" class="w-full">
                        <mat-tab label="Demande de Crédit">
                            <div>
                                <div class="flex flex-col w-full p-4 mt-4">
                                    <div class="flex justify-between">
                                        <div class="leading-tight uppercase c_title_header">Informations générales de la demande
                                            crédit
                                        </div>
                                    </div>
                                    <hr class="w-full border-t">
                                    <div class="flex flex-auto w-full mb-4">
                                        <div class="flex flex-col w-full">
                                            <div class="grid grid-cols-2 items-center" style="cursor:pointer">
                                                <span class="mr-3">Numéro du crédit: </span>
                                                <span style="text-decoration: underline" class="leading-none font-bold redirectBtn" (click)="detailCredit(this.currentCredit)">{{ currentCredit?.numero }}</span>
                                            </div>
                                            <div class="grid grid-cols-2 items-center mt-4">
                                                <span class="mr-3">Montant du demandé: </span>
                                                <span class="leading-none font-bold">{{
                                                        currentCredit?.montant | number :
                                                            '1.0-0':'fr'
                                                    }}</span>
                                            </div>
                                            <div class="grid grid-cols-2 items-center mt-4">
                                                <span class="mr-3">Taux du crédit: </span>
                                                <span class="leading-none font-bold">{{ currentCredit?.taux }}%</span>
                                            </div>
                                            <div class="grid grid-cols-2 items-center mt-4">
                                                <span class="mr-3">Objet du financement: </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.objetFinancement }}</span>
                                            </div>
                                        </div>
                                        <div class="flex flex-col w-full">

                                            <div class="grid grid-cols-2 items-center">
                                                <span class="mr-3">Date mise en place: </span>
                                                <span class="leading-none font-bold">{{
                                                        currentCredit?.dateMiseEnPlace |
                                                            date:'dd-MM-yyyy'
                                                    }}</span>
                                            </div>
                                            <div class="grid grid-cols-2 items-center mt-4">
                                                <span class="mr-3">Montant accordé: </span>
                                                <span class="leading-none font-bold">{{
                                                        currentCredit?.montantAccorde | number :
                                                            '1.0-0':'fr'
                                                    }}</span>
                                            </div>

                                            <div class="grid grid-cols-2 flex items-center mt-4">
                                                <span class="mr-3">Statut: </span>
                                                <span class="badge-success baStatut"
                                                      *ngIf="currentCredit?.statut === constantes.STATUS.FINANCE">{{ currentCredit?.statut }}</span>
                                              <span class="badge-success baStatut"
                                                      *ngIf="currentCredit?.statut === constantes.STATUS.ACCEPTE">{{ currentCredit?.statut }}</span>
                                                <span class="badge-red baStatut"
                                                      *ngIf="currentCredit?.statut === constantes.STATUS.ANNULE">{{ currentCredit?.statut }}</span>
                                                <span class="badge-red baStatut"
                                                      *ngIf="currentCredit?.statut === constantes.STATUS.REJETE">{{ currentCredit?.statut }}</span>
                                                <span class="badge-blue baStatut"
                                                      *ngIf="currentCredit?.statut === constantes.STATUS.SAISI">{{ currentCredit?.statut }}</span>
                                                <span class="badge-green baStatut"
                                                      *ngIf="currentCredit?.statut === constantes.STATUS.VALIDE">{{ currentCredit?.statut }}</span>
                                                <span class="badge-gray baStatut"
                                                      *ngIf="currentCredit?.statut === constantes.STATUS.CLOTURE">{{ currentCredit?.statut }}</span>
                                                <span class="custom_badge_brown baStatut"
                                                      *ngIf="currentCredit?.statut === constantes.STATUS.ENSOUFFRANCE">{{ currentCredit?.statut }}</span>
                                                <span class="custom_badge_black baStatut"
                                                      *ngIf="currentCredit?.statut === constantes.STATUS.VALIDE_PAR_LE_COMMITE">VALIDE COMMITE</span>
                                            </div>
                                            <div class="grid grid-cols-2 mt-4">
                                                <span class="mr-3">Libellé: </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.typeCredit?.libelle }}</span>
                                            </div>
                                            <div class="grid grid-cols-2 mt-4">
                                                <span class="mr-3">Taux : </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.taux }} %</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex flex-auto w-full mb-4">
                                        <div class="flex flex-col w-full">
                                            <div class="grid grid-cols-2">
                                                <span class="mr-3">Nombre d'échéances demandé: </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.nombreEcheance }}</span>
                                            </div>
                                            <div class="grid grid-cols-2">
                                                <span class="mr-3">Nombre d'échéances accordé: </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.nombreEcheanceAccorde }}</span>
                                            </div>
                                            <div class="grid grid-cols-2 mt-4"
                                                 *ngIf="currentCredit?.statut=== CONSTANTES.STATUS.FINANCE">
                                                <span class="mr-3">Durée en jours: </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.dureeJour }}</span>
                                            </div>
                                            <div class="grid grid-cols-2 mt-4"
                                                 *ngIf="currentCredit?.statut=== CONSTANTES.STATUS.SAISI">
                                                <span class="mr-3">Durée en jours: </span>
                                                <span class="leading-none font-bold">0</span>
                                            </div>
                                        </div>
                                        <div class="flex flex-col w-full">
                                            <div class="grid grid-cols-2">
                                                <span class="mr-3">Periodicite: </span>
                                                <span
                                                    class="leading-none font-bold">{{
                                                        currentCredit?.periodicite.libelle}}</span>
                                            </div>

                                        </div>
                                    </div>

                                    <div class="flex justify-between mt-4">
                                        <div class="leading-tight uppercase c_title_header">Agent de crédit</div>
                                    </div>
                                    <hr class="w-full border-t">
                                    <div class="flex flex-auto w-full mb-4">
                                        <div class="flex flex-col w-full">

                                            <div class="grid grid-cols-2 items-center">
                                                <span class="mr-3">Nom: </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.agentCredit?.prenom | titlecase}} {{ currentCredit?.agentCredit?.nom | titlecase}}</span>
                                            </div>
                                            <div class="grid grid-cols-2 items-center">
                                                <span class="mr-3">Email: </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.agentCredit?.email }}</span>
                                            </div>

                                        </div>
                                        <div class="flex flex-col w-full">
                                            <div class="grid grid-cols-2 items-center">
                                                <span class="mr-3">Code: </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.agentCredit?.numero }}</span>
                                            </div>
                                            <div class="grid grid-cols-2 items-center">
                                                <span class="mr-3">Téléphone: </span>
                                                <span
                                                    class="leading-none font-bold">{{currentCredit?.agentCredit?.phoneCode}} {{ currentCredit?.agentCredit?.phoneNumber }}</span>
                                            </div>

                                        </div>
                                    </div>

                                    <ng-container *ngIf="currentCredit?.statut === constantes.STATUS.VALIDE">
                                        <div class="flex justify-between mt-4">
                                            <div class="leading-tight uppercase c_title_header">Validé par</div>
                                        </div>
                                        <hr class="w-full border-t">
                                        <div class="flex flex-auto w-full mb-4">
                                            <div class="flex flex-col w-full">
                                                <div class="grid grid-cols-2">
                                                    <span class="mr-3">Date validation : </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.dateValidation | date : 'dd-MM-yyyy'}}</span>
                                                </div>
                                                <div class="grid grid-cols-2 mt-4">
                                                    <span class="mr-3">Nom : </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.userValidation?.displayName }}</span>
                                                </div>
                                            </div>
<!--                                            <div class="flex flex-col w-full">-->
<!--                                                <div class="grid grid-cols-2">-->
<!--                                                    <span class="mr-3">Email: </span>-->
<!--                                                    <span-->
<!--                                                        class="leading-none font-bold">{{ currentCredit?.userValidate?.email }}</span>-->
<!--                                                </div>-->
<!--                                                <div class="grid grid-cols-2 mt-4">-->
<!--                                                    <span class="mr-3">Téléphone: </span>-->
<!--                                                    <span-->
<!--                                                        class="leading-none font-bold">{{ currentCredit?.userValidate?.telephone }}</span>-->
<!--                                                </div>-->
<!--                                            </div>-->


                                        </div>
                                    </ng-container>

                                    <ng-container
                                        >
                                        <div class="flex justify-between mt-4" >
                                            <div class="leading-tight uppercase c_title_header">COMPTE REMBOURSEMENT
                                            </div>
                                        </div>
                                        <hr class="w-full border-t">
                                        <div class="flex flex-auto w-full mb-4">
                                            <div class="flex flex-col w-full">
                                                <div class="grid grid-cols-2">
                                                    <span class="mr-3">Date: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.dateCreated | date:'dd-MM-yyyy' }}</span>
                                                </div>
                                                <div class="grid grid-cols-2 mt-4">
                                                    <span class="mr-3">Nº Compte Remboursement: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.compteRemboursement.numero | number : '1.0-0':'fr' }}</span>
                                                </div>
                                            </div>
                                            <div class="flex flex-col w-full">
                                                <div class="grid grid-cols-2">
                                                    <span class="mr-3">Intitule Compte: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.compteRemboursement.nom }}</span>
                                                </div>
                                                <div class="grid grid-cols-2 mt-4" *ngIf="currentCredit?.compteRemboursement.soldeIndicatif">
                                                    <span class="mr-3">Solde Indicatif: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.compteRemboursement.soldeIndicatif  | number : '1.0-0' : 'fr'}}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-container>



                                </div>
                            </div>
                            <ng-template #modalTemplate>
                                <mat-toolbar class="mat-accent m-0 backToolbar">
                                    <mat-toolbar-row fxFlex fxLayout="row" fxLayoutAlign="space-between center"
                                                     class="c_formulaire">
                                        <span class="c_title dialog-title">Rejeter le crédit</span>
                                        <button mat-icon-button (click)="dialogRef.close()" aria-label="Close dialog"
                                                class="closeButton">
                                            <mat-icon>close</mat-icon>
                                        </button>
                                    </mat-toolbar-row>
                                </mat-toolbar>
                                <div class="modal-content flex flex-col gap-3 mx-4">
                                    <form [formGroup]="initForm" (ngSubmit)="annulerCredit()">
                                        <mat-form-field class="fuse-mat-dense w-full mt-2" appearance="outline">

                                            <mat-label class="enteteccColor">Motif du rejet</mat-label>
                                            <textarea matInput name="motifRejet"
                                                      formControlName="motifRejet"></textarea>
                                            <mat-error>Le champs est obligatoire</mat-error>
                                        </mat-form-field>
                                        <div class="flex justify-center gap-4 mb-4">
                                            <button mat-raised-button class="submit-buttonRed" matDialogClose
                                                    type="button">
                                                <span class="textForm">Annuler</span>
                                            </button>&nbsp;
                                            <button mat-raised-button class="submit-button">
                                                <span class="textForm ">Rejeter</span>
                                            </button>
                                        </div>
                                    </form>

                                </div>

                            </ng-template>

                            <ng-template #modalTemplateBascule>
                                <mat-toolbar class="mat-accent m-0 backToolbar">
                                    <mat-toolbar-row fxFlex fxLayout="row" fxLayoutAlign="space-between center"
                                                     class="c_formulaire">
                                        <span class="c_title dialog-title">Basculer le crédit</span>
                                        <button mat-icon-button (click)="dialogRef.close()" aria-label="Close dialog"
                                                class="closeButton">
                                            <mat-icon>close</mat-icon>
                                        </button>
                                    </mat-toolbar-row>
                                </mat-toolbar>
                                <div class="modal-content flex flex-col gap-3 mx-4">
                                    <form [formGroup]="initBasculerForm" (ngSubmit)="basculerEnSouffrance('basculer')">
                                        <mat-form-field class="fuse-mat-dense w-full mt-2" appearance="outline">

                                            <mat-label class="enteteccColor">Motif du basculement</mat-label>
                                            <textarea matInput name="motifBasculement"
                                                      formControlName="motifBasculement"></textarea>
                                            <mat-error>Le champs est obligatoire</mat-error>
                                        </mat-form-field>
                                        <div class="flex justify-center gap-4 mb-4">
                                            <button mat-raised-button class="submit-buttonRed" matDialogClose
                                                    type="button">
                                                <span class="textForm">Annuler</span>
                                            </button>&nbsp;
                                            <button [disabled]="initBasculerForm.invalid"  mat-raised-button class="submit-button">
                                                <span class="textForm ">Basculer</span>
                                            </button>
                                        </div>
                                    </form>

                                </div>

                            </ng-template>

                        </mat-tab>
<mat-tab label="Frais liés">
    <div class="mt-6">
    <table aria-label="frais liés"
           class="w-full bg-transparent shadow rounded-xl overflow-hidden"
           mat-table matSort [dataSource]="fraisDataSource"
           [trackBy]="trackByFn">
        <ng-container matColumnDef="frais">
            <th mat-header-cell mat-sort-header *matHeaderCellDef>
               Frais
            </th>
            <td mat-cell *matCellDef="let compte">
                                                        <span
                                                            class=" font-medium text-sm text-secondary whitespace-nowrap">
                                                              {{ compte?.fraisClients[0]?.frais?.libelle }}
                                                        </span>
            </td>
        </ng-container>
        <ng-container matColumnDef="montantFrais">
            <th mat-header-cell mat-sort-header *matHeaderCellDef>
                Montant Frais
            </th>
            <td mat-cell *matCellDef="let compte">
                                                        <span
                                                            class=" font-medium text-sm text-secondary whitespace-nowrap flex content-end " >
                                                              {{ compte?.fraisClients[0]?.montantFrais | number : '1.0-0':'fr'}}
                                                        </span>
            </td>
        </ng-container>

        <ng-container matColumnDef="datePaiement">
            <th mat-header-cell mat-sort-header *matHeaderCellDef>
                Date Paiement
            </th>
            <td mat-cell *matCellDef="let compte">
                                                        <span
                                                            class=" font-medium text-sm text-secondary whitespace-nowrap">
                                                              {{ compte?.fraisClients[0]?.datePaiement | date : 'dd/MM/YYYY'}}
                                                        </span>
            </td>
        </ng-container>

        <ng-container matColumnDef="statut">
            <th mat-header-cell mat-sort-header *matHeaderCellDef>
                Statut
            </th>
            <td mat-cell *matCellDef="let compte">
                <span *ngIf="compte?.fraisClients[0]?.statut == 'PAYE'"
                      class="badge-success c_statut rounded-full">{{ compte?.fraisClients[0]?.statut }}</span>

            </td>
        </ng-container>

        <ng-container matColumnDef="dateCreated">
            <th mat-header-cell mat-sort-header *matHeaderCellDef>
                Date de creation
            </th>
            <td mat-cell *matCellDef="let compte">
                                                        <span
                                                            class=" font-medium text-sm text-secondary whitespace-nowrap">
                                                              {{ compte?.fraisClients[0]?.dateCreated | date : 'dd/MM/YYYY'}}
                                                        </span>
            </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="fraisColumns"></tr>
        <tr class="order-row h-16" mat-row
            *matRowDef="let row; columns: fraisColumns;"></tr>
    </table>
        <div *ngIf="fraisDataSource.data.length === 0">
            <ng-container>
                <div class="p-8 title_chargement font-semibold tracking-tight text-center textVideMessage">
                    La liste est vide !!!</div>
            </ng-container>
        </div>
    </div>
</mat-tab>

                    </mat-tab-group>
                </div>
            </ng-container>

        </fuse-card>
    </div>
</div>
