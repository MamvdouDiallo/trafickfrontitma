<div class="w-full heighContentRight" id="heighContentRightId">
    <div class="w-full mb-10">
        <fuse-card class="flex flex-col w-full p-4">
            <ng-container *ngIf="!showVue">
                <div class="flex flex-col flex-auto bg-card overflow-hidden">
                    <div class="flex justify-between mb-1.5">
                        <div class="mr-4 text-lg font-medium tracking-tight leading-6 truncate c_label">Liste des
                            credits
                        </div>
                        <div class="flex items-center mt-8 mb-4 lg:m-0 lg:ml-auto floatRight">
                            <button *ngIf="tableCredit.length !== 0" class="c_btnAccount_attribut c_btnAccountF" matTooltip="Ajouter Crédit" (click)="ajoutCredit()" mat-icon-button>
                                <mat-icon class="c_icons c_cursor icon-size-5" [svgIcon]="'heroicons_solid:plus-circle'"></mat-icon>
                            </button>
                        </div>
                    </div>
                    <hr>
                    <div class="overflow-x-auto" *ngIf="tableCredit.length !== 0">
                        <table aria-label="liste des crédits d'un client" class="w-full bg-transparent" mat-table
                               matSort [dataSource]="creditDataSource"
                               [trackBy]="trackByFn" #compteTable>
                            <ng-container matColumnDef="numero">
                                <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                    Numéro
                                </th>
                                <td mat-cell *matCellDef="let credit">
                                    <span class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                        {{ credit?.numero }}
                                    </span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="ancienNumero">
                                <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                    Ancien Numéro
                                </th>
                                <td mat-cell *matCellDef="let credit">
                                    <span class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                        {{ credit?.ancienNumero }}
                                    </span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="typeCredit">
                                <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                    Type Crédit
                                </th>
                                <td mat-cell *matCellDef="let credit">
                                    <span class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                        {{ credit?.typeCredit?.libelle }}
                                    </span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="montant">
                                <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                    Montant
                                </th>
                                <td mat-cell *matCellDef="let credit">
                                    <span class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                        {{ credit?.montant | number : '1.0-0':'fr' }}
                                    </span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="taux">
                                <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                    Taux
                                </th>
                                <td mat-cell *matCellDef="let credit">
                                    <span class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                        {{ credit?.taux }} %
                                    </span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="dateMiseEnPlace">
                                <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                    Mise en place
                                </th>
                                <td mat-cell *matCellDef="let credit">
                                    <span class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                        {{ credit?.dateFinancement | date : 'dd/MM/yyyy' }}
                                    </span>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="nombreEcheance">
                                <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                    Echéance
                                </th>
                                <td mat-cell *matCellDef="let credit">
                                    <span class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                        {{ credit?.nombreEcheance }}
                                    </span>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="createdAt">
                                <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                    Date Création
                                </th>
                                <td mat-cell *matCellDef="let credit">
                                    <span class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                        {{ credit?.createdAt | date : 'dd/MM/yyyy' }}
                                    </span>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="statut">
                                <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                    Statut
                                </th>
                                <td mat-cell *matCellDef="let credit">
                                    <span class="custom_badge_orange"
                                          *ngIf="credit?.statut === constantes.STATUS.FINANCE">{{ credit?.statut }}</span>
                                    <span class="custom_badge_red"
                                          *ngIf="credit?.statut === constantes.STATUS.ANNULE">{{ credit?.statut }}</span>
                                    <span class="custom_badge_red"
                                          *ngIf="credit?.statut === constantes.STATUS.REJETE">{{ credit?.statut }}</span>
                                    <span class="custom_badge_blue"
                                          *ngIf="credit?.statut === constantes.STATUS.SAISI">{{ credit?.statut }}</span>
                                    <span class="custom_badge_success"
                                          *ngIf="credit?.statut === constantes.STATUS.VALIDE">{{ credit?.statut }}</span>
                                    <span class="custom_badge_grey"
                                          *ngIf="credit?.statut === constantes.STATUS.CLOTURE">{{ credit?.statut }}</span>
                                    <span class="custom_badge_brown"
                                          *ngIf="credit?.statut === constantes.STATUS.ENSOUFFRANCE">SOUFFRANCE</span>
                                    <span class="custom_blue_clair"
                                          *ngIf="credit?.statut === constantes.STATUS.IMMOBILISE">{{ credit?.statut }}</span>
                                    <span class="custom_badge_red"
                                          *ngIf="credit?.statut === constantes.STATUS.CONTENTIEUX">{{ credit?.statut }}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="action">
                                <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                    Action
                                </th>
                                <td mat-cell *matCellDef="let credit">
                                    <p class="pr-6 whitespace-nowrap">
                                        <button matTooltip="Détails" mat-icon-button (click)="detailsCredit(credit)">
                                            <mat-icon class=" text-blue-500 icon-size-5"
                                                      [svgIcon]="'heroicons_outline:eye'">
                                            </mat-icon>
                                        </button>
                                        <button
                                            *ngIf="credit.typeCredit?.suspensionPaiement === false &&credit.suspensionPaiement === false &&
                                               (credit.statut === 'FINANCE' ||
                                                credit.statut === 'IMMOBILISE' ||
                                                credit.statut === 'EN_SOUFFRANCE' ||
                                                credit.statut === 'CONTENTIEUX')"
                                            matTooltip="Suspendre le paiement du crédit"
                                            mat-icon-button
                                            (click)="suspendreCredit(credit)">
                                            <mat-icon
                                                class="btn-green icon-size-4" [svgIcon]="'heroicons_outline:play'"></mat-icon>
                                        </button>
                                        <button class="btn-red" *ngIf="credit.typeCredit.suspensionPaiement === true &&
                                               (credit.statut === 'FINANCE' ||
                                                credit.statut === 'IMMOBILISE' ||
                                                credit.statut === 'EN_SOUFFRANCE' ||
                                                credit.statut === 'CONTENTIEUX')" matTooltip="Le type de credit est suspendu" mat-icon-button>
                                            <mat-icon class=" text-red-500 icon-size-5"
                                                      [svgIcon]="'heroicons_outline:pause'">
                                            </mat-icon>
                                        </button>
                                      <button *ngIf="credit.typeCredit?.suspensionPaiement === false && credit.suspensionPaiement === true && (credit.statut == 'FINANCE' || credit.statut == 'IMMOBILISE'|| credit.statut == 'EN_SOUFFRANCE'|| credit.statut == 'CONTENTIEUX')"
                                              matTooltip="Lever la suspension du paiement de crédit"
                                               mat-icon-button (click)="suspendreCredit(credit)">
                                            <mat-icon class="text-red-500 icon-size-5"
                                                      [svgIcon]="'heroicons_outline:pause'">
                                            </mat-icon>
                                        </button>
                                    </p>
                                </td>

                            </ng-container>
                            <tr mat-header-row *matHeaderRowDef="creditColumns"></tr>
                            <tr class="order-row h-16" mat-row *matRowDef="let row; columns: creditColumns;"></tr>
                        </table>
                    </div>

                        <div *ngIf="isLoading" class="custom-loader"></div>

                    <div *ngIf="!isLoading && tableCredit.length === 0" class="c_credit">
                        <button  [disabled]="currentClient?.statut ==='DEMISSION'" class="c_btnAccount_attribut c_btnAccountF" matTooltip="Ajouter Crédit" (click)="ajoutCredit()" mat-icon-button>
                            <mat-icon class="c_icons c_cursor icon-size-5" [svgIcon]="'heroicons_solid:plus-circle'"></mat-icon>
                        </button>
                        <h1 class="c_label">Ajouter Crédit</h1>
                    </div>
                </div>
            </ng-container>

            <ng-container *ngIf="showVue">
                <div>
                    <div class="flex justify-between c_mbuttom">
                                                <span class="inline-flex items-center cursor-pointer mb-1"
                                                      (click)="showVue = !showVue">
                                                    <mat-icon class="icon-size-5 text-current"
                                                              [svgIcon]="'heroicons_solid:arrow-sm-left'"></mat-icon>
                                                    <span class="ml-1.5 font-medium leading-5">Retour</span>
                                                </span>

                        <div class="flex items-center mt-8 mb-4 lg:m-0 lg:ml-auto floatRight">
                            <div *ngIf="isLoading" class="mr-2">
                                <mat-progress-spinner class="circle-loader" color="#000000" [mode]="'indeterminate'"
                                                      [strokeWidth]="4" [value]="2" [diameter]="25">
                                </mat-progress-spinner>
                            </div>
                            <button [disabled]="currentClient?.statut ==='DEMISSION'" *ngIf="currentCredit?.statut === constantes.STATUS.VALIDE" (click)="financerCredit()" class="c_btnAccount_attribut c_btnAccountF mr-2" matTooltip="Financer le crédit" mat-icon-button>
                                <mat-icon class="c_icons c_cursor icon-size-5" [svgIcon]="'payments'"></mat-icon>
                            </button>
                            <ng-container *ngIf="currentCredit?.statut === constantes.STATUS.SAISI"></ng-container>

                            <button [disabled]="currentClient?.statut ==='DEMISSION'"*ngIf="currentCredit?.statut === constantes.STATUS.SAISI" class="c_btnAccount_attribut c_btnAccountF mr-2" matTooltip="Valider le crédit" (click)="changeStatus(constantes.STATUS.VALIDE)" mat-icon-button>
                                <mat-icon class="c_icons c_cursor icon-size-5" [svgIcon]="'done_all'"></mat-icon>
                            </button>
                            <button [disabled]="currentClient?.statut ==='DEMISSION'" *ngIf="(currentCredit?.statut === constantes.STATUS.SAISI) || (currentCredit?.statut === constantes.STATUS.VALIDE)" class="c_btnAccount_attribut c_btnAccountF mr-2" matTooltip="Rejeter le crédit" (click)="changeStatus(constantes.STATUS.ANNULE,modalTemplate)" mat-icon-button>
                                <mat-icon class="c_icons c_cursor icon-size-5" [svgIcon]="'heroicons_outline:x-circle'"></mat-icon>
                            </button>
                            &nbsp;
                            <button [disabled]="currentClient?.statut ==='DEMISSION'" *ngIf="currentCredit?.statut === constantes.STATUS.FINANCE" class="c_btnAccount_attribut c_btnAccountF ml-2" matTooltip="Remboursement anticipe" (click)="remboursement()" mat-icon-button>
                                <mat-icon class="c_icons c_cursor icon-size-5" [svgIcon]="'heroicons_outline:currency-dollar'"></mat-icon>
                            </button>
                            <button *ngIf="currentCredit?.statut === constantes.STATUS.FINANCE && (currentCredit?.indBasculementManuel === true || currentCredit?.indBasculeEnSouffrance === true)" [disabled]="currentClient?.statut ==='DEMISSION'" class="c_btnAccount_attribut c_btnAccountF ml-2" matTooltip="Basculement en souffrance" (click)="basculerEnSouffrance('bascule',modalTemplateBascule)" mat-icon-button>
                                <mat-icon class="c_icons c_cursor icon-size-5" svgIcon="heroicons_outline:receipt-refund"></mat-icon>
                            </button>

                            <button *ngIf="currentCredit?.statut === constantes.STATUS.ENSOUFFRANCE" [disabled]="currentClient?.statut ==='DEMISSION'" class="c_btnAccount_attribut c_btnAccountF ml-2" matTooltip="Basculement en perte" (click)="basculerEnPerte()" mat-icon-button>
                                <mat-icon class="c_icons c_cursor icon-size-5" svgIcon="heroicons_outline:trending-down"></mat-icon>
                            </button>
                        </div>
                    </div>
                    <hr>
                    <mat-tab-group dynamicHeight [(selectedIndex)]="currentTab" class="w-full">
                        <mat-tab label="Crédit">
                            <div>
                                <div class="flex flex-col w-full p-4 mt-4">
                                    <div class="flex justify-between">
                                        <div class="leading-tight uppercase c_title_header">Informations générales du crédit
                                        </div>
                                    </div>
                                    <hr class="w-full border-t">
                                    <div class="flex flex-auto w-full mb-4">
                                        <div class="flex flex-col w-full">
                                            <div class="grid grid-cols-2 items-center">
                                                <span class="mr-3">Numéro du crédit: </span>
                                                <span class="leading-none font-bold">{{ currentCredit?.numero }}</span>
                                            </div>
                                            <div class="grid grid-cols-2 items-center mt-4">
                                                <span class="mr-3">Ancien numéro: </span>
                                                <span class="leading-none font-bold">{{ currentCredit?.ancienNumero }}</span>
                                            </div>
                                            <div class="grid grid-cols-2 items-center mt-4">
                                                <span class="mr-3">Montant du crédit: </span>
                                                <span class="leading-none font-bold">{{
                                                        currentCredit?.montant | number :
                                                            '1.0-0':'fr'
                                                    }}</span>
                                            </div>
                                            <div class="grid grid-cols-2 items-center mt-4">
                                                <span class="mr-3">Taux du crédit: </span>
                                                <span class="leading-none font-bold">{{ currentCredit?.taux }}%</span>
                                            </div>
                                            <div class="grid grid-cols-2 mt-4">
                                                <span class="mr-3">Taux éffectif: </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.tauxEffectifGlobal }}</span>
                                            </div>
                                        </div>
                                        <div class="flex flex-col w-full">

                                            <div class="grid grid-cols-2 items-center">
                                                <span class="mr-3">Date mise en place: </span>
                                                <span class="leading-none font-bold">{{
                                                        currentCredit?.dateFinancement |
                                                            date:'dd-MM-yyyy'
                                                    }}</span>
                                            </div>

                                            <div class="grid grid-cols-2 flex items-center mt-4">
                                                <span class="mr-3">Statut: </span>
                                                <span class="badge-orange baStatut"
                                                      *ngIf="currentCredit?.statut === constantes.STATUS.FINANCE">{{ currentCredit?.statut }}</span>
                                                <span class="badge-red baStatut"
                                                      *ngIf="currentCredit?.statut === constantes.STATUS.ANNULE">{{ currentCredit?.statut }}</span>
                                                <span class="badge-red baStatut"
                                                      *ngIf="currentCredit?.statut === constantes.STATUS.REJETE">{{ currentCredit?.statut }}</span>
                                                <span class="badge-blue baStatut"
                                                      *ngIf="currentCredit?.statut === constantes.STATUS.SAISI">{{ currentCredit?.statut }}</span>
                                                <span class="badge-success baStatut"
                                                      *ngIf="currentCredit?.statut === constantes.STATUS.VALIDE">{{ currentCredit?.statut }}</span>
                                                <span class="badge-gray baStatut"
                                                      *ngIf="currentCredit?.statut === constantes.STATUS.CLOTURE">{{ currentCredit?.statut }}</span>
                                                <span class="custom_badge_brown baStatut"
                                                      *ngIf="currentCredit?.statut === constantes.STATUS.ENSOUFFRANCE">SOUFFRANCE</span>
                                                <span class="custom_blue_clair baStatut"
                                                      *ngIf="currentCredit?.statut === constantes.STATUS.IMMOBILISE">{{ currentCredit?.statut }}</span>
                                                <span class="custom_badge_red baStatut"
                                                      *ngIf="currentCredit?.statut === constantes.STATUS.CONTENTIEUX">{{ currentCredit?.statut }}</span>
                                            </div>
                                            <div class="grid grid-cols-2 mt-4">
                                                <span class="mr-3">Libellé: </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.typeCredit?.libelle }}</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="items-center mt-4 w-full">
                                        <span class="mr-3">Objet du financement: </span>
                                        <span
                                            class="leading-none font-bold">{{ currentCredit?.objetFinancement }}</span>
                                    </div>

                                    <hr class="w-full border-t">
                                    <div class="flex flex-auto w-full mb-4">
                                        <div class="flex flex-col w-full">
                                            <div class="grid grid-cols-2">
                                                <span class="mr-3">Nombre d'échéances: </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.nombreEcheance }}
                                                </span>
                                            </div>
                                            <div class="grid grid-cols-2 mt-4"  *ngIf="currentCredit.statut!== CONSTANTES.STATUS.SAISI">
                                                <span class="mr-3">Durée en jours: </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.dureeJour }}</span>
                                            </div>
                                            <div class="grid grid-cols-2 mt-4">
                                                <span class="mr-3">Durée différé en jours: </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.dureeDiffereJour }}</span>
                                            </div>
                                            <div class="grid grid-cols-2 mt-4" *ngIf="currentCredit.statut === CONSTANTES.STATUS.FINANCE && (currentCredit.indBasculementManuel === true && currentCredit.indBasculeEnSouffrance === false)">
                                                <span class="mr-3">Basculement en souffrance: </span>
                                                <span
                                                    class="badge-orange baStatut ">En cours</span>
                                            </div>
                                            <div class="grid grid-cols-2 mt-4"
                                                 *ngIf="currentCredit.statut=== CONSTANTES.STATUS.SAISI">
                                                <span class="mr-3">Durée en jours: </span>
                                                <span class="leading-none font-bold">0</span>
                                            </div>
                                        </div>
                                        <div class="flex flex-col w-full">
                                            <div class="grid grid-cols-2">
                                                <span class="mr-3">Date de la première échéance: </span>
                                                <span
                                                    class="leading-none font-bold">{{
                                                        currentCredit?.datePremiereEcheance
                                                            | date:'dd-MM-yyyy'
                                                    }}</span>
                                            </div>
                                            <div class="grid grid-cols-2 mt-4">
                                                <span class="mr-3">Date de la dernière échéance: </span>
                                                <span
                                                    class="leading-none font-bold">{{
                                                        currentCredit?.dateDerniereEcheance
                                                            | date:'dd-MM-yyyy'
                                                    }}</span>
                                            </div>
                                            <div class="grid grid-cols-2">
                                                <span class="mr-3">Périodicité: </span>
                                                <span
                                                    class="leading-none font-bold">{{currentCredit?.periodicite?.libelle }}</span>
                                            </div>
                                        </div>
                                    </div>


                    <!--                                   partie demande de crédit    -->

                                    <div class="flex justify-between mt-4" *ngIf="currentCredit?.demandeCredit?.numero">
                                        <div class="leading-tight uppercase c_title_header">Demande de credit</div>
                                    </div>
                                    <hr class="w-full border-t" *ngIf="currentCredit?.demandeCredit?.numero">
                                    <div class="flex flex-auto w-full mb-4" *ngIf="currentCredit?.demandeCredit?.numero">
                                        <div class="flex flex-col w-full">
                                            <div class="grid grid-cols-2 items-center" (click)="demandeCredit(currentCredit?.demandeCredit)">
                                                <span class="mr-3">Numéro demande: </span>
                                                <span
                                                    class="leading-none font-bold" style="color: #1a2b60;text-decoration: underline;cursor: pointer">{{ currentCredit?.demandeCredit?.numero }}</span>
                                            </div>
                                            <div class="grid grid-cols-2 items-center mt-4">
                                                <span class="mr-3">Montant demandé: </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.demandeCredit?.montant | number : '1.0-0':'fr'}}</span>
                                            </div>
                                            <div class="grid grid-cols-2 items-center mt-4">
                                                <span class="mr-3">Montant accordé: </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.demandeCredit?.montantAccorde | number : '1.0-0':'fr'}}</span>
                                            </div>
                                        </div>
                                    </div>


                                    <!--                                   partie assurance    -->

                                    <div class="flex justify-between mt-4" *ngIf="currentCredit?.assurance">
                                        <div class="leading-tight uppercase c_title_header">Assurance</div>
                                    </div>
                                    <hr class="w-full border-t" *ngIf="currentCredit?.assurance">
                                    <div class="flex flex-auto w-full mb-4" *ngIf="currentCredit?.assurance">
                                        <div class="flex flex-col w-full">
                                            <div class="grid grid-cols-2 items-center">
                                                <span class="mr-3">Libellé : </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.assurance?.libelle }}</span>
                                            </div>
                                            <div class="grid grid-cols-2 items-center mt-4">
                                                <span class="mr-3">Montant assurance : </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.assurance?.montantAssurancePaye | number : '1.0-0':'fr'}}</span>
                                            </div>
                                        </div>

                                        <div class="flex flex-col w-full">
                                            <div class="grid grid-cols-2">
                                                <span class="mr-3">Montant forfaitaire : </span>
                                                <span class="leading-none font-bold">{{currentCredit?.montantForfaitaire | number : '1.0-0':'fr'}}</span>
                                            </div>
                                            <div class="grid grid-cols-2 mt-4">
                                                <span class="mr-3">Taux : </span>
                                                <span class="leading-none font-bold">{{currentCredit?.taux }} %</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex justify-between mt-4">
                                        <div class="leading-tight uppercase c_title_header">Agent de crédit</div>
                                    </div>
                                    <hr class="w-full border-t">
                                    <div class="flex flex-auto w-full mb-4">
                                        <div class="flex flex-col w-full">
                                            <div class="grid grid-cols-2 items-center">
                                                <span class="mr-3">Prénom de l'agent: </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.agentCredit?.prenom }}</span>
                                            </div>
                                            <div class="grid grid-cols-2 items-center mt-4">
                                                <span class="mr-3">Nom de l'agent: </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.agentCredit?.nom }}</span>
                                            </div>
                                        </div>
                                        <div class="flex flex-col w-full">
                                            <div class="grid grid-cols-2 items-center">
                                                <span class="mr-3">Téléphone de l'agent: </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.agentCredit?.phoneNumber }}</span>
                                            </div>
                                            <div class="grid grid-cols-2 items-center mt-4">
                                                <span class="mr-3">Email de l'agent: </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.agentCredit?.email }}</span>
                                            </div>
                                        </div>
                                    </div>

                                    <ng-container *ngIf="currentCredit?.statut === constantes.STATUS.VALIDE">
                                        <div class="flex justify-between mt-4">
                                            <div class="leading-tight uppercase c_title_header">Validé par</div>
                                        </div>
                                        <hr class="w-full border-t">
                                        <div class="flex flex-auto w-full mb-4">
                                            <div class="flex flex-col w-full">
                                                <div class="grid grid-cols-2">
                                                    <span class="mr-3">Prénom: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.userValidate?.firstName }}</span>
                                                </div>
                                                <div class="grid grid-cols-2 mt-4">
                                                    <span class="mr-3">Nom: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.userValidate?.lastName }}</span>
                                                </div>
                                            </div>
                                            <div class="flex flex-col w-full">
                                                <div class="grid grid-cols-2">
                                                    <span class="mr-3">Email: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.userValidate?.email }}</span>
                                                </div>
                                                <div class="grid grid-cols-2 mt-4">
                                                    <span class="mr-3">Téléphone: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.userValidate?.telephone }}</span>
                                                </div>
                                            </div>


                                        </div>
                                    </ng-container>

                                    <ng-container
                                        >
                                        <div class="flex justify-between mt-4" *ngIf="currentCredit?.indBasculeEnSouffrance">
                                            <div class="leading-tight uppercase c_title_header">Basculement en Soufrance
                                                et Comptes Crédit
                                            </div>
                                        </div>
                                        <hr class="w-full border-t">
                                        <div class="flex flex-auto w-full mb-4">
                                            <div class="flex flex-col w-full">
                                                <div class="grid grid-cols-2">
                                                    <span class="mr-3">Date: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.dateBasculement | date:'dd-MM-yyyy' }}</span>
                                                </div>
                                                <div class="grid grid-cols-2 mt-4">
                                                    <span class="mr-3">Capital: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.capitalBascule | number : '1.0-0':'fr' }}</span>
                                                </div>
                                            </div>
                                            <div class="flex flex-col w-full">
                                                <div class="grid grid-cols-2">
                                                    <span class="mr-3">Intéret: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.interetBascule }}</span>
                                                </div>
                                                <div class="grid grid-cols-2 mt-4">
                                                    <span class="mr-3">Pénalité: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.penaliteBascule }}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-container>
                                    <ng-container *ngIf="currentCredit?.statut !='VALIDE' && currentCredit?.statut !='SAISI'">
                                        <div class="flex justify-between mt-4">
                                            <div class="leading-tight uppercase c_title_header">Suspension du paiement crédit
                                            </div>
                                        </div>
                                        <hr class="w-full border-t">
                                        <div class="flex flex-auto w-full mb-4">
                                            <div class="flex flex-col w-full">
                                                <div class="grid grid-cols-2">
                                                    <span class="mr-3">Date suspension: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.dateSuspension | date:'dd-MM-yyyy' }}</span>
                                                </div>
                                                <div class="grid grid-cols-2 mt-4">
                                                    <span class="mr-3">Motif Suspension: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.motifSuspension  }}</span>
                                                </div>
                                                <div class="grid grid-cols-2 mt-4">
                                                    <span class="mr-3">Suspendu par: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.userSuspension?.firstName  }} {{ currentCredit?.userSuspension?.lastName  }}</span>
                                                </div>
                                                <div class="grid grid-cols-2 mt-4">
                                                    <span class="mr-3">Date levée: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.dateLeveSuspension | date:'dd-MM-yyyy' }}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-container>

                                        <div class="mt-4">
                                            <div class="flex items-center justify-between  leading-tight uppercase c_title_header">
                                               <div> Comptes</div>
                                                <div data-html2canvas-ignore="true" id="btnPrint">
                                                    <button class="c_btnAccount_attribut c_btnAccountF" matTooltip="Imprimer la liste des comptes du client" mat-icon-button (click)="impressionCompte()">
                                                        <mat-icon class="c_icons c_cursor icon-size-5" svgIcon="heroicons_outline:printer">
                                                        </mat-icon>
                                                    </button>
                                                </div>
                                            </div>

                                            <div style="margin-left: -5px; margin-top:5px">
                                                <mat-radio-group (change)="getCompteAffiche()" class="example-radio-group" [(ngModel)]="typeCompteAffiche"  aria-labelledby="example-radio-group-label">
                                                    <mat-radio-button [color]="'primary'" value="tous">
                                                        <span class="styleBut">Tous les comptes</span>
                                                    </mat-radio-button>

                                                    <mat-radio-button class="ml-4" [color]="'primary'" value="inactif">
                                                        <span class="styleBut">Masquer les comptes inactifs</span>
                                                    </mat-radio-button>
                                                </mat-radio-group>
                                            </div>
                                        </div>
                                        <hr class="w-full border-t">
                                    <div class="flex flex-col  w-full  min-w-10-0 p-2 md:p-4 text-center">
                                            <div class="overflow-x-scroll">
                                            <table aria-label="frais lier"
                                                   class="w-full bg-transparent shadow rounded-xl overflow-hidden"
                                                   mat-table matSort [dataSource]="comptesDataSource"
                                                   [trackBy]="trackByFn">
                                                <ng-container matColumnDef="numero">
                                                    <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                                        Numéro
                                                    </th>
                                                    <td mat-cell *matCellDef="let compte">
                                                        <span
                                                            class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                                              {{ compte?.numero }}
                                                        </span>
                                                    </td>
                                                </ng-container>
                                                <ng-container matColumnDef="compteGeneral">
                                                    <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                                        Compte général
                                                    </th>
                                                    <td mat-cell *matCellDef="let compte">
                                                        <span
                                                            class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                                              {{ compte?.compteGeneral?.numero }}
                                                        </span>
                                                    </td>
                                                </ng-container>
                                                <ng-container matColumnDef="nature">
                                                    <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                                        Nature
                                                    </th>
                                                    <td mat-cell *matCellDef="let compte">
                                                        <span
                                                            class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                                              {{ compte?.nature }}
                                                        </span>
                                                    </td>
                                                </ng-container>

                                                <ng-container matColumnDef="nom">
                                                    <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                                        Intitulé
                                                    </th>
                                                    <td mat-cell *matCellDef="let compte">
                                                        <span
                                                            class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                                              {{ compte?.nom }}
                                                        </span>
                                                    </td>
                                                </ng-container>

                                                <ng-container matColumnDef="soldeIndicatif">
                                                    <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                                        Solde
                                                    </th>
                                                    <td mat-cell *matCellDef="let compte">
                                                        <span
                                                           style="float:right" class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                                              {{ compte?.soldeIndicatif | number : '1.0-0':'fr' }}
                                                          </span>
                                                    </td>
                                                </ng-container>
                                                <tr mat-header-row *matHeaderRowDef="comptesColumns"></tr>
                                                <tr class="order-row h-16" mat-row
                                                    *matRowDef="let row; columns: comptesColumns;"></tr>
                                            </table>
                                        </div>
<!--                                        </div>-->
                                        </div>


                                </div>
                            </div>
                            <ng-template #modalTemplate>
                                <mat-toolbar class="mat-accent m-0 backToolbar">
                                    <mat-toolbar-row fxFlex fxLayout="row" fxLayoutAlign="space-between center"
                                                     class="c_formulaire">
                                        <span class="c_title dialog-title">Rejeter le crédit</span>
                                        <button mat-icon-button (click)="dialogRef.close()" aria-label="Close dialog"
                                                class="closeButton">
                                            <mat-icon>close</mat-icon>
                                        </button>
                                    </mat-toolbar-row>
                                </mat-toolbar>
                                <div class="modal-content flex flex-col gap-3 mx-4">
                                    <form [formGroup]="initForm" (ngSubmit)="annulerCredit()">
                                        <mat-form-field class="fuse-mat-dense w-full mt-2" appearance="outline">

                                            <mat-label class="enteteccColor">Motif du rejet</mat-label>
                                            <textarea matInput name="motifRejet"
                                                      formControlName="motifRejet"></textarea>
                                            <mat-error>Le champs est obligatoire</mat-error>
                                        </mat-form-field>
                                        <div class="flex justify-center gap-4 mb-4">
                                            <button mat-raised-button class="submit-buttonRed" matDialogClose
                                                    type="button">
                                                <span class="textForm">Annuler</span>
                                            </button>&nbsp;
                                            <button mat-raised-button class="submit-button">
                                                <span class="textForm ">Rejeter</span>
                                            </button>
                                        </div>
                                    </form>

                                </div>

                            </ng-template>

                            <ng-template #modalTemplateBascule>
                                <mat-toolbar class="mat-accent m-0 backToolbar">
                                    <mat-toolbar-row fxFlex fxLayout="row" fxLayoutAlign="space-between center"
                                                     class="c_formulaire">
                                        <span class="c_title dialog-title">Basculer le crédit</span>
                                        <button mat-icon-button (click)="dialogRef.close()" aria-label="Close dialog"
                                                class="closeButton">
                                            <mat-icon>close</mat-icon>
                                        </button>
                                    </mat-toolbar-row>
                                </mat-toolbar>
                                <div class="modal-content flex flex-col gap-3 mx-4">
                                    <form [formGroup]="initBasculerForm" (ngSubmit)="basculerEnSouffrance('basculer')">
                                        <mat-form-field class="fuse-mat-dense w-full mt-2" appearance="outline">

                                            <mat-label class="enteteccColor">Motif du basculement</mat-label>
                                            <textarea matInput name="motifBasculement"
                                                      formControlName="motifBasculement"></textarea>
                                            <mat-error>Le champs est obligatoire</mat-error>
                                        </mat-form-field>
                                        <div class="flex justify-center gap-4 mb-4">
                                            <button mat-raised-button class="submit-buttonRed" matDialogClose
                                                    type="button">
                                                <span class="textForm">Annuler</span>
                                            </button>&nbsp;
                                            <button [disabled]="initBasculerForm.invalid"  mat-raised-button class="submit-button">
                                                <span class="textForm ">Basculer</span>
                                            </button>
                                        </div>
                                    </form>

                                </div>

                            </ng-template>

                        </mat-tab>

                        <mat-tab label="Informations système" class="ctest">
                            <div>
                                <div class="flex flex-col w-full p-4">

                                    <div class="flex justify-between mt-4">
                                        <div class="leading-tight uppercase c_title_header">initiateur du crédit</div>
                                    </div>
                                    <hr class="w-full border-t">
                                    <div class="flex flex-auto w-full mb-4">
                                        <div class="flex flex-col w-full">
                                            <div class="grid grid-cols-2 items-center">
                                                <span class="mr-3">Prénom de l'initiateur: </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.firstName }}</span>
                                            </div>
                                            <div class="grid grid-cols-2 items-center mt-4">
                                                <span class="mr-3">Nom de l'initiateur: </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.typeCompte?.lastName }}</span>
                                            </div>
                                        </div>
                                        <div class="flex flex-col w-full">
                                            <div class="grid grid-cols-2 items-center">
                                                <span class="mr-3">Téléphone de l'initiateur: </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.telephone }}</span>
                                            </div>
                                            <div class="grid grid-cols-2 items-center mt-4">
                                                <span class="mr-3">Email de l'initiateur: </span>
                                                <span
                                                    class="leading-none font-bold">{{ currentCredit?.typeCompte?.email }}</span>
                                            </div>
                                        </div>
                                    </div>

                                    <ng-container *ngIf="currentCredit?.statut === constantes.STATUS.FINANCE">
                                        <div class="flex justify-between mt-4">
                                            <div class="leading-tight uppercase c_title_header">Validé par</div>
                                        </div>
                                        <hr class="w-full border-t">
                                        <div class="flex flex-auto w-full mb-4">
                                            <div class="flex flex-col w-full">
                                                <div class="grid grid-cols-2">
                                                    <span class="mr-3">Prénom: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.userValidate?.firstName }}</span>
                                                </div>
                                                <div class="grid grid-cols-2 mt-4">
                                                    <span class="mr-3">Nom: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.userValidate?.lastName }}</span>
                                                </div>
                                            </div>
                                            <div class="flex flex-col w-full">
                                                <div class="grid grid-cols-2">
                                                    <span class="mr-3">Email: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.userValidate?.email }}</span>
                                                </div>
                                                <div class="grid grid-cols-2 mt-4">
                                                    <span class="mr-3">Téléphone: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.userValidate?.telephone }}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-container>


                                    <ng-container *ngIf="currentCredit?.statut === constantes.STATUS.FINANCE">
                                        <div class="flex justify-between mt-4">
                                            <div class="leading-tight uppercase c_title_header">Financé par</div>
                                        </div>
                                        <hr class="w-full border-t">
                                        <div class="flex flex-auto w-full mb-4">
                                            <div class="flex flex-col w-full">
                                                <div class="grid grid-cols-2">
                                                    <span class="mr-3">Prénom: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.userFinancement?.firstName }}</span>
                                                </div>
                                                <div class="grid grid-cols-2 mt-4">
                                                    <span class="mr-3">Nom: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.userFinancement?.lastName }}</span>
                                                </div>
                                            </div>
                                            <div class="flex flex-col w-full">
                                                <div class="grid grid-cols-2">
                                                    <span class="mr-3">Email: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.userFinancement?.email }}</span>
                                                </div>
                                                <div class="grid grid-cols-2 mt-4">
                                                    <span class="mr-3">Téléphone: </span>
                                                    <span
                                                        class="leading-none font-bold">{{ currentCredit?.userFinancement?.telephone }}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-container>

                                    <attribut-complementaire title="Attribut complémentaire" (ajoutAttributComplementaire)="ajoutAttributComplementaire(currentCredit,attributComplementaires)" [infosClient]="infosClient" (updateAttributComplementaire)="updateAttributComplementaire($event,currentCredit)" [attributComplementaire]="attributComplementaires" [natureAttribut]="'CREDIT'"></attribut-complementaire>
                                </div>
                            </div>
                        </mat-tab>
                        <mat-tab label="Frais Liés">
                            <frais-lier-credit [fraisLierDataSource]='fraisLierCredit'></frais-lier-credit>
                        </mat-tab>
                        <mat-tab label="Amortissements" *ngIf="currentCredit?.statut === constantes.STATUS.FINANCE || currentCredit?.statut === constantes.STATUS.CLOTURE || currentCredit?.statut === constantes.STATUS.ENSOUFFRANCE || currentCredit?.statut === constantes.STATUS.IMMOBILISE || currentCredit?.statut === constantes.STATUS.CONTENTIEUX">
                            <div class="flex flex-col w-full p-4">
                                <div class="flex justify-between">
                                    <div class="leading-tight uppercase c_title_header">Tableau d'amortissement</div>
                                    <div>
                                        <button class="c_btnAccount_attribut c_btnAccountF" matTooltip="Imprimer le tableau d'amortissement" mat-icon-button (click)="captureScreen()">
                                            <mat-icon class="c_icons c_cursor icon-size-5" svgIcon="heroicons_outline:printer">
                                            </mat-icon>
                                        </button>
                                        <button *ngIf="(hasReport) && (currentCredit?.statut === constantes.STATUS.FINANCE || currentCredit?.statut === constantes.STATUS.ENSOUFFRANCE || currentCredit?.statut === constantes.STATUS.IMMOBILISE)" class="c_btnAccount_attribut c_btnAccountF ml-2" matTooltip="Report d'échéance" mat-icon-button (click)="reportTypeCredit()">
                                            <mat-icon class="c_icons c_cursor icon-size-5" svgIcon="moving">
                                            </mat-icon>
                                        </button>
                                    </div>
                                </div>
                                <hr>
                                <app-amortissement #productionHebdo [currentCred]="currentCredit"
                                                   [tableauAmortissementss]="tableauAmortissements"
                                                   [compteDataSource]="tableData" [capitalTotal]="montantCapitalTotal"
                                                   [interetsTotals]="interetsTotals"
                                                   [montantEcheanceTotal]="montantEcheanceTotal"></app-amortissement>
                            </div>
                        </mat-tab>
                        <mat-tab label="Garanties">
                            <credit-depot-garantie [depotsGarantiesDataSource]="depotGaranties"
                                                   (updateItem)="addItem($event)"
                                                   [credit]="currentCredit"></credit-depot-garantie>
                        </mat-tab>

<!--                        <mat-tab label="Extra Compta">-->
<!--                            <div class="flex btnimp mt-2">-->
<!--                            <button class="closeButton" matTooltip="Imprimer l'Extra Compta" mat-icon-button (click)="captureScreen1()">-->
<!--                                <mat-icon class="text-blue-500 icon-size-6 cursor-pointer" svgIcon="heroicons_outline:printer">-->
<!--                                </mat-icon>-->
<!--                            </button>-->
<!--                            </div>-->

<!--                            <table id="extraCompta" #extraCompta class="w-full">-->
<!--                                <div class="leading-tight uppercase c_title_header ml-4">EXTRA COMPTA-->
<!--                                </div>-->
<!--                            <div class="flex flex-col w-full p-4 " *ngIf="currentCredit.statut =='FINANCE' || currentCredit.statut =='EN_SOUFFRANCE' || currentCredit.statut =='IMMOBILISE'|| currentCredit.statut =='CONTENTIEUX'">-->
<!--                                <div class="flex justify-between">-->
<!--                                    <div class="leading-tight uppercase c_title_header">Sain</div>-->

<!--                                </div>-->

<!--                                <hr class="w-full border-t">-->
<!--                                <div class="flex flex-auto w-full mb-4">-->
<!--                                    <div class="flex flex-col  w-full">-->
<!--                                        <div class="grid grid-cols-3">-->

<!--                                            <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                                <span class="mr-3">Capital : </span>-->
<!--                                                <span-->
<!--                                                    class="leading-none font-bold lstStyle">{{ currentCredit?.capitalSain | number :'1.0-0':'fr' }}</span>-->
<!--                                            </div>-->

<!--                                            <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                                <span class="mr-3">Capital payé: </span>-->
<!--                                                <span-->
<!--                                                    class="leading-none font-bold lstStyle">{{ currentCredit?.capitalSainPaye | number :'1.0-0':'fr' }}</span>-->
<!--                                            </div>-->

<!--                                            <div class="grid grid-cols-2 items-center mt-2 ">-->
<!--                                                <span class="mr-3">Solde capital: </span>-->
<!--                                                <span-->
<!--                                                    class="leading-none font-bold lstStyle">{{ currentCredit?.soldeCapitalSain | number :'1.0-0':'fr' }}</span>-->
<!--                                            </div>-->
<!--                                            <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                                <span class="mr-3">Montant intéret: </span>-->
<!--                                                <span-->
<!--                                                    class="leading-none font-bold lstStyle">{{ currentCredit?.interetSain | number :'1.0-0':'fr' }}</span>-->
<!--                                            </div>-->
<!--                                            <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                                <span class="mr-3">Intéréts payés: </span>-->
<!--                                                <span-->
<!--                                                    class="leading-none font-bold lstStyle">{{ currentCredit?.interetSainPaye | number :'1.0-0':'fr' }}</span>-->
<!--                                            </div>-->
<!--                                            <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                                <span class="mr-3">Solde intérets: </span>-->
<!--                                                <span-->
<!--                                                    class="leading-none font-bold lstStyle">{{ currentCredit?.soldeInteretSain | number :'1.0-0':'fr' }}</span>-->
<!--                                            </div>-->
<!--                                            <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                                <span class="mr-3">Pénalité: </span>-->
<!--                                                <span-->
<!--                                                    class="leading-none font-bold lstStyle">{{ currentCredit?.penaliteSain | number :'1.0-0':'fr' }}</span>-->
<!--                                            </div>-->
<!--                                        <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                            <span class="mr-3">Pénalités payées: </span>-->
<!--                                            <span-->
<!--                                                class="leading-none font-bold lstStyle">{{ currentCredit?.penaliteSainPaye | number :'1.0-0':'fr' }}</span>-->
<!--                                        </div>-->
<!--                                            <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                                <span class="mr-3">Solde pénalités: </span>-->
<!--                                                <span-->
<!--                                                    class="leading-none font-bold lstStyle">{{ currentCredit?.soldePenaliteSain | number :'1.0-0':'fr' }}</span>-->
<!--                                            </div>-->
<!--                                         <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                         <span class="mr-3">Capital immobilise: </span>-->
<!--                                         <span class="leading-none font-bold lstStyle">{{ currentCredit?.capitalImmobilise | number :'1.0-0':'fr' }}</span>-->
<!--                                         </div>-->
<!--                                        </div>-->

<!--                                    </div>-->

<!--                                </div>-->

<!--                            </div>-->

<!--                            <div class="flex flex-col w-full p-4 mt-4" *ngIf="currentCredit.statut =='EN_SOUFFRANCE' || currentCredit.statut =='IMMOBILISE'|| currentCredit.statut =='CONTENTIEUX'">-->
<!--                                <div class="flex justify-between">-->
<!--                                    <div class="leading-tight uppercase c_title_header">Souffrance</div>-->
<!--                                </div>-->
<!--                                <hr class="w-full border-t">-->

<!--                                <div class="flex flex-auto w-full mb-4">-->
<!--                                    <div class="flex flex-col grid grid-cols-3 w-full">-->
<!--                                        <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                            <span class="mr-3">Date basculement: </span>-->
<!--                                            <span-->
<!--                                                class="leading-none font-bold">{{ currentCredit?.dateBasculement | date:'dd-MM-yyyy' }}</span>-->
<!--                                        </div>-->
<!--                                        <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                            <span class="mr-3">Utilisateur: </span>-->
<!--                                            <span-->
<!--                                                class="leading-none font-bold lstStyle">{{ currentCredit?.userBascule }}</span>-->
<!--                                        </div>-->
<!--                                        <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                            <span class="mr-3">Motif: </span>-->
<!--                                            <span-->
<!--                                                class="leading-none font-bold truncate-text" [matTooltip]="currentCredit?.motifBasculement">{{currentCredit?.motifBasculement}}</span>-->
<!--                                        </div>-->

<!--                                        <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                            <span class="mr-3">Capital basculé: </span>-->
<!--                                            <span-->
<!--                                                class="leading-none font-bold lstStyle">{{ currentCredit?.capitalBascule | number :'1.0-0':'fr' }}</span>-->
<!--                                        </div>-->

<!--                                        <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                            <span class="mr-3">Capital recupérés: </span>-->
<!--                                            <span-->
<!--                                                class="leading-none font-bold lstStyle">{{ currentCredit?.capitalBasculeRecupere | number :'1.0-0':'fr' }}</span>-->
<!--                                        </div>-->

<!--                                        <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                            <span class="mr-3">Solde capital: </span>-->
<!--                                            <span-->
<!--                                                class="leading-none font-bold lstStyle">{{ ((currentCredit?.capitalBascule )-(currentCredit?.capitalBasculeRecupere)) | number :'1.0-0':'fr' }}</span>-->
<!--                                        </div>-->

<!--                                        <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                            <span class="mr-3">Intérét basculé: </span>-->
<!--                                            <span-->
<!--                                                class="leading-none font-bold lstStyle">{{ currentCredit?.interetBascule | number :'1.0-0':'fr' }}</span>-->
<!--                                        </div>-->
<!--                                        <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                            <span class="mr-3">Intéréts recupérés: </span>-->
<!--                                            <span-->
<!--                                                class="leading-none font-bold lstStyle">{{ currentCredit?.interetBasculeRecupere | number :'1.0-0':'fr' }}</span>-->
<!--                                        </div>-->
<!--                                        <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                            <span class="mr-3">Solde Intéréts: </span>-->
<!--                                            <span-->
<!--                                                class="leading-none font-bold lstStyle">{{ currentCredit?.soldeInteretBascule | number :'1.0-0':'fr'}}</span>-->
<!--                                        </div>-->

<!--                                        <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                            <span class="mr-3">Pénalité basculé: </span>-->
<!--                                            <span-->
<!--                                                class="leading-none font-bold lstStyle">{{ currentCredit?.penaliteBascule | number :'1.0-0':'fr' }}</span>-->
<!--                                        </div>-->

<!--                                        <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                            <span class="mr-3">Pénalités recupérés: </span>-->
<!--                                            <span-->
<!--                                                class="leading-none font-bold lstStyle">{{ currentCredit?.penaliteBasculeRecupere | number :'1.0-0':'fr' }}</span>-->
<!--                                        </div>-->
<!--                                        <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                            <span class="mr-3">Solde Pénalités: </span>-->
<!--                                            <span-->
<!--                                                class="leading-none font-bold lstStyle">{{ currentCredit?.soldePenaliteBascule | number :'1.0-0':'fr'}}</span>-->
<!--                                        </div>-->
<!--                                    </div>-->

<!--                                </div>-->
<!--                            </div>-->
<!--                            <div class="flex flex-col w-full p-4 mt-4" *ngIf="currentCredit.statut =='CONTENTIEUX'">-->
<!--                                <div class="flex justify-between">-->
<!--                                    <div class="leading-tight uppercase c_title_header">Perte</div>-->
<!--                                </div>-->
<!--                                <hr class="w-full border-t">-->

<!--                                <div class="flex flex-auto w-full mb-4">-->
<!--                                    <div class="flex flex-col  w-full">-->
<!--                                        <div class="flex grid grid-cols-3">-->
<!--                                        <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                            <span class="mr-3">Date basculement: </span>-->
<!--                                            <span-->
<!--                                                class="leading-none font-bold">{{ currentCredit?.dateBasculeEnPerte | date:'dd-MM-yyyy' }}</span>-->
<!--                                        </div>-->
<!--                                        <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                            <span>Utilisateur: </span>-->
<!--                                            <span-->
<!--                                                class="leading-none font-bold">{{ currentCredit?.userBasculeEnPerte | number :'1.0-0':'fr' }}</span>-->
<!--                                        </div>-->
<!--                                        </div>-->
<!--                                        <div class="grid grid-cols-3">-->
<!--                                        <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                            <span class="mr-3">Capital basculé: </span>-->
<!--                                            <span-->
<!--                                                class="leading-none font-bold">{{ currentCredit?.capitalBasculeEnPerte | number :'1.0-0':'fr' }}</span>-->
<!--                                        </div>-->
<!--                                            <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                                <span class="mr-3">Capital recupéré: </span>-->
<!--                                                <span-->
<!--                                                    class="leading-none font-bold">{{ currentCredit?.capitalBasculeEnPerte | number :'1.0-0':'fr' }}</span>-->
<!--                                            </div>-->
<!--                                            <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                                <span class="mr-3">Solde capital: </span>-->
<!--                                                <span-->
<!--                                                    class="leading-none font-bold">{{ currentCredit?.soldeCapitalBasculeEnPerte  | number :'1.0-0':'fr' }}</span>-->
<!--                                            </div>-->

<!--                                        <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                            <span class="mr-3">Intérét basculement: </span>-->
<!--                                            <span-->
<!--                                                class="leading-none font-bold">{{ currentCredit?.interetBasculeEnPerte | number :'1.0-0':'fr' }}</span>-->
<!--                                        </div>-->
<!--                                        <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                            <span class="mr-3">Intéréts recupérés: </span>-->
<!--                                            <span-->
<!--                                                class="leading-none font-bold">{{ currentCredit?.interetBasculeEnPerte | number :'1.0-0':'fr' }}</span>-->
<!--                                        </div>-->
<!--                                            <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                                <span class="mr-3">Solde Intéréts: </span>-->
<!--                                                <span-->
<!--                                                    class="leading-none font-bold">{{ currentCredit?.soldeInteretBasculeEnPerte  | number :'1.0-0':'fr'}}</span>-->
<!--                                            </div>-->

<!--                                            <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                                <span class="mr-3">Pénalité basculé: </span>-->
<!--                                                <span-->
<!--                                                    class="leading-none font-bold">{{ currentCredit?.penaliteBasculeEnPerte | number :'1.0-0':'fr' }}</span>-->
<!--                                            </div>-->
<!--                                        <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                            <span class="mr-3">Pénalités recupérés: </span>-->
<!--                                            <span-->
<!--                                                class="leading-none font-bold">{{ currentCredit?.penaliteBasculeEnPerte | number :'1.0-0':'fr' }}</span>-->
<!--                                        </div>-->
<!--                                        <div class="grid grid-cols-2 items-center mt-2">-->
<!--                                            <span class="mr-3">Solde Pénalités: </span>-->
<!--                                            <span-->
<!--                                                class="leading-none font-bold">{{currentCredit?.soldePenaliteBasculeEnPerte  | number :'1.0-0':'fr'}}</span>-->
<!--                                        </div>-->
<!--                                        </div>-->
<!--                                    </div>-->

<!--                                </div>-->
<!--                            </div>-->
<!--                            </table>-->
<!--                        </mat-tab>-->
                        <mat-tab label="Etats">
                            <div class="flex flex-col w-full p-4 mt-4">
                                <div class="flex flex-auto w-full mb-4">
                                    <div class="flex flex-col w-full">
                                        <div class="grid grid-cols-2 items-center">
                                            <span class="mr-3">Capital: </span>
                                            <span
                                                class="leading-none font-bold lstStyle">{{ currentCredit?.montant | number :'1.0-0':'fr' }}</span>
                                        </div>
                                        <div class="grid grid-cols-2 items-center mt-4">
                                            <span class="mr-3">Capital payé: </span>
                                            <span
                                                class="leading-none font-bold lstStyle">{{ currentCredit?.capitalPaye | number :'1.0-0':'fr' }}</span>
                                        </div>
                                        <div class="grid grid-cols-2 items-center mt-4">
                                            <span class="mr-3">Montant remboursé: </span>
                                            <span
                                                class="leading-none font-bold lstStyle">{{ currentCredit?.montantRembourse | number :'1.0-0':'fr' }}</span>
                                        </div>
                                        <div class="grid grid-cols-2 items-center mt-4">
                                            <span class="mr-3">Capital Intérét restant du: </span>
                                            <span
                                                class="leading-none font-bold custom_badge_successc">{{ currentCredit?.montantRestantDu | number :'1.0-0':'fr' }}</span>
                                        </div>
                                    </div>
                                    <div class="flex flex-col w-full">
                                        <div class="grid grid-cols-2 items-center">
                                            <span class="mr-3">Capital restant du: </span>
                                            <span
                                                class="leading-none font-bold lstStyle">{{ currentCredit?.capitalRestantDu | number :'1.0-0':'fr' }}</span>
                                        </div>
                                        <div class="grid grid-cols-2 items-center  mt-4">
                                            <span class="mr-3">Intérét: </span>
                                            <span
                                                class="leading-none font-bold lstStyle">{{ currentCredit?.montantInteret | number :'1.0-0':'fr' }}</span>
                                        </div>
                                        <div class="grid grid-cols-2 items-center mt-4">
                                            <span class="mr-3">Intérét payé: </span>
                                            <span
                                                class="leading-none font-bold lstStyle">{{ currentCredit?.interetPaye | number :'1.0-0':'fr' }}</span>
                                        </div>
                                        <div class="grid grid-cols-2 items-center mt-4 w-full">
                                            <span class="mr-3">Intéret restant du: </span>
                                            <span
                                                class="leading-none font-bold lstStyle">{{ currentCredit?.interetRestantDu | number :'1.0-0':'fr' }}</span>
                                        </div>
                                    </div>
                                </div>

                                <hr class="w-full border-t">
                                <div class="flex flex-auto w-full">

                                    <div class="flex flex-col w-full">
                                        <div class="grid grid-cols-2 items-center ">
                                            <span class="mr-3">Montant impayé: </span>
                                            <span
                                                class="leading-none font-bold custom_badge_redc">{{ currentCredit?.montantImpaye | number :'1.0-0':'fr' }}</span>
                                        </div>
                                        <div class="grid grid-cols-2 mt-4">
                                            <span class="mr-3">Capital impayé: </span>
                                            <span
                                                class="leading-none font-bold lstStyle">{{ currentCredit?.capitalImpaye | number :'1.0-0':'fr' }}</span>
                                        </div>

                                        <div class="grid grid-cols-2 mt-4">
                                            <span class="mr-3">Intéret impayé : </span>
                                            <span
                                                class="leading-none font-bold lstStyle">{{ currentCredit?.interetImpaye | number :'1.0-0':'fr' }}</span>
                                        </div>
                                        <div class="grid grid-cols-2 mt-4">
                                            <span class="mr-3">pénalité impayé : </span>
                                            <span
                                                class="leading-none font-bold lstStyle">{{ currentCredit?.penaliteImpaye| number :'1.0-0':'fr'  }}</span>
                                        </div>
                                    </div>

                                    <div class="flex flex-col w-full">
                                        <div class="grid grid-cols-2">
                                            <span class="mr-3">Nombre jour retard : </span>
                                            <span
                                                class="leading-none font-bold lstStyle">{{ currentCredit?.nombreJourRetard }}</span>
                                        </div>
                                        <div class="grid grid-cols-2 mt-4">
                                            <span class="mr-3">Nombre échéance impayé : </span>
                                            <span class="leading-none font-bold lstStyle">{{ currentCredit?.nombreEcheanceImpaye }}</span>
                                        </div>
                                        <div class="grid grid-cols-2 items-center mt-4">
                                            <span class="mr-3">penalité: </span>
                                            <span
                                                class="leading-none font-bold lstStyle">{{ currentCredit?.penaliteTotal | number :'1.0-0':'fr' }}</span>
                                        </div>
                                        <div class="grid grid-cols-2 items-center mt-4">
                                            <span class="mr-3">penalité payé: </span>
                                            <span
                                                class="leading-none font-bold lstStyle">{{ currentCredit?.penalitePaye | number :'1.0-0':'fr' }}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>


                        </mat-tab>
                    </mat-tab-group>
                </div>
            </ng-container>

        </fuse-card>
    </div>
</div>
